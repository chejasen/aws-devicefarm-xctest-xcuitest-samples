version: 0.1
 
# Phases are collection of commands that get executed on Device Farm.
phases:
 # The install phase includes commands that install dependencies that your tests use.
 # Default dependencies for testing frameworks supported on Device Farm are already installed.
 install:
   commands:

 # The pre-test phase includes commands that setup your test environment.
 pre_test:
   commands:

 # The test phase includes commands that run your test suite execution.
 test:
   commands:
     # By default, the following command is used by Device Farm to run your XCUI Test test.
     # Alternatively, You may specify your customized command.
     # For more information see https://developer.apple.com/library/archive/technotes/tn2339/_index.html#//apple_ref/doc/uid/DTS40014588-CH1-PRODUCT
     # Note: For most use cases, the default command works fine.
     # Note: The DEVICEFARM_XCUITESTRUN_FILE will be  dynamically generated by Devicefarm based on your app and test packages
     # Note: Using a different derivedDataPath will result in you not receiving screenshots
     - echo "Start xcodebuild"
     - xcodebuild test-without-building -destination id=$DEVICEFARM_DEVICE_UDID -xctestrun $DEVICEFARM_XCUITESTRUN_FILE -derivedDataPath $DEVICEFARM_DERIVED_DATA_PATH

 # The post test phase includes are commands that are run after your tests are executed.
 post_test:
   commands:

# The artifacts phase lets you specify the location where your tests and device logs will be stored.
artifacts:
 # By default, Device Farm will collect your artifacts from following directories
 - $DEVICEFARM_DERIVED_DATA_PATH